# Traffic Routing

``` bash
$ while true; do curl http://192.168.56.30:31221/hostname; sleep 2; echo ''; done;
app-1-2-2-1-544d448c8c-h4qvk
app-1-2-2-1-544d448c8c-tlsjg
app-1-2-2-1-544d448c8c-h4qvk
app-1-2-2-1-544d448c8c-h4qvk
app-1-2-2-1-544d448c8c-h4qvk
app-1-2-2-1-544d448c8c-h4qvk
app-1-2-2-1-544d448c8c-h4qvk
app-1-2-2-1-544d448c8c-h4qvk
app-1-2-2-1-544d448c8c-tlsjg
```

↑ 2초 간격으로 호출 받은 Pod 의 Hostname 을 출력
* 강제로 특정 Pod 를 정지시키면 자동으로 복구됨
* 새로운 Pod 가 준비 완료될 때 까지 트래픽 조정도 자동적으로 이루어 짐

# Self-Healing

```bash
$ curl 192.168.56.30:31221/memory-leak
```

request 를 받은 pod 에 memory-leak 을 일으킴
- K8s 가 스스로 App 을 restart 시킴
- restart 중인 pod 에 



#K8s #Traffic-Routing #Self-Healing #AutoScaling #RollingUpdate
